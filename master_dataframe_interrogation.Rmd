---
title: "viz exploration"
author: "Connor Flynn"
date: "8/17/2023"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(naniar)
library(here)
options(scipen = 999)
```


```{r}
all_data <- read_csv(here("cleaned_data/master_dataframe.csv"))
```


```{r}
all_data <- all_data %>%
  mutate(site_specific = case_when(
    is.na(site_specific) ~ "none",
    TRUE ~ site_specific
  ))
```


```{r}
sum(is.na(all_data))
```

```{r}
gg_miss_var(all_data)
```
```{r}
all_data <- drop_na(all_data)
```




```{r}
 all_data %>%
    dplyr::group_by(date_time, site, site_specific, variable, value) %>%
    dplyr::summarise(n = dplyr::n(), .groups = "drop") %>%
    dplyr::filter(n > 1L)
```

```{r}
all_data_distinct <- distinct(all_data)
```


```{r}
 all_data_distinct %>%
    dplyr::group_by(date_time, site, site_specific, variable) %>%
    dplyr::summarise(n = dplyr::n(), .groups = "drop") %>%
    dplyr::filter(n > 1L)
```




```{r}
all_data_distinct_wider <- all_data_distinct %>% 
  pivot_wider(names_from = "variable",
              values_from = "value",
              values_fn = "mean")
```


```{r}
ggplot(all_data_distinct_wider, aes(x = pH)) +
  geom_histogram()
ggplot(all_data_distinct_wider, aes(x = temp_celsius)) +
  geom_histogram()
ggplot(all_data_distinct_wider, aes(x = dissolved_oxygen_mg_l)) +
  geom_histogram()
ggplot(all_data_distinct_wider, aes(x = low_range_microSiemens)) +
  geom_histogram()
ggplot(all_data_distinct_wider, aes(x = high_range_microSiemens)) +
  geom_histogram()
ggplot(all_data_distinct_wider, aes(x = mv)) +
  geom_histogram()
```


```{r}
ggplot(all_data_distinct_wider, aes(x = pH, y = temp_celsius)) +
  geom_point() +
  theme_minimal()
```

